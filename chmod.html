<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>CHMOD ONLINE EMULATOR</title>
  <style>
    @font-face {
      font-family: 'FreeMono';
      src: url('./FreeMono.ttf') format('truetype');
      font-weight: normal;
      font-style: normal;
    }

    body { font-family: 'FreeMono', monospace; margin: 1em; background: #f8f8f8; color: #111; }
    h1 { text-align:center; }
    table { border-collapse: collapse; width: 100%; max-width: 850px; margin:auto; }
    td { text-align:center; padding:5px; }
    input[type="text"] { font-family:'FreeMono',monospace; text-align:center; padding:4px; }
    button { font-family:'FreeMono'; background:#333; color:#fff; border:none; padding:0.6em 1em; margin:0.3em; border-radius:4px; cursor:pointer; }
    button:hover { background:#000; }
    @media (max-width:600px){body{font-size:0.9em;}}
  </style>
  <script>
    function octalchange() {
      var val=document.chmod.t_total.value;
      var ownerbin=parseInt(val.charAt(0)).toString(2).padStart(3,'0');
      var groupbin=parseInt(val.charAt(1)).toString(2).padStart(3,'0');
      var otherbin=parseInt(val.charAt(2)).toString(2).padStart(3,'0');
      document.chmod.owner4.checked=parseInt(ownerbin[0]);
      document.chmod.owner2.checked=parseInt(ownerbin[1]);
      document.chmod.owner1.checked=parseInt(ownerbin[2]);
      document.chmod.group4.checked=parseInt(groupbin[0]);
      document.chmod.group2.checked=parseInt(groupbin[1]);
      document.chmod.group1.checked=parseInt(groupbin[2]);
      document.chmod.other4.checked=parseInt(otherbin[0]);
      document.chmod.other2.checked=parseInt(otherbin[1]);
      document.chmod.other1.checked=parseInt(otherbin[2]);
      calc_chmod(1);
    }
    function calc_chmod(nototals){
      const users=["owner","group","other"],totals=[],syms=[];
      users.forEach(u=>{let t=0,s='';[4,2,1].forEach(v=>{let c=document.chmod[u+v].checked;t+=c?v:0;s+=c?(v==4?'r':v==2?'w':'x'):'-';});totals.push(t);syms.push(s);});
      if(!nototals)document.chmod.t_total.value=totals.join('');
      document.chmod.sym_total.value='-'+syms.join('');
    }
    function showLicense(t){let m={gpl:'Code under GNU GPL v3+',fdl:'Docs under GNU FDL',fal:'Design under Free Art License 1.3'};alert(m[t]);}
    window.onload=octalchange;
  </script>
</head>
<body>
  <h1>CHMOD ONLINE EMULATOR</h1>
  <p style="text-align:center;">Practice and understand chmod permissions easily.</p>
  <form name="chmod">
    <table border="1">
      <tr style="background:#333;color:#fff;"><td>Permissions</td><td>Owner (u)</td><td>Group (g)</td><td>Other (o)</td></tr>
      <tr><td>Read (r)</td><td><input name="owner4" type="checkbox" value="4" onclick="calc_chmod()"></td><td><input name="group4" type="checkbox" value="4" onclick="calc_chmod()"></td><td><input name="other4" type="checkbox" value="4" onclick="calc_chmod()"></td></tr>
      <tr><td>Write (w)</td><td><input name="owner2" type="checkbox" value="2" onclick="calc_chmod()"></td><td><input name="group2" type="checkbox" value="2" onclick="calc_chmod()"></td><td><input name="other2" type="checkbox" value="2" onclick="calc_chmod()"></td></tr>
      <tr><td>Execute (x)</td><td><input name="owner1" type="checkbox" value="1" onclick="calc_chmod()"></td><td><input name="group1" type="checkbox" value="1" onclick="calc_chmod()"></td><td><input name="other1" type="checkbox" value="1" onclick="calc_chmod()"></td></tr>
    </table>
    <div style="text-align:center;margin-top:1em;">
      <label>Numeric:</label> <input name="t_total" maxlength="3" value="751" onkeyup="octalchange()">
      <label>Symbolic:</label> <input name="sym_total" readonly size="12">
    </div>
  </form>
  <div style="text-align:center;margin-top:1em;">
    <button onclick="showLicense('gpl')">GNU GPL v3+</button>
    <button onclick="showLicense('fdl')">GNU FDL</button>
    <button onclick="showLicense('fal')">Free Art License 1.3</button>
  </div>
  <!-- Licenses in code -->
  <!-- GNU GPL v3+: https://www.gnu.org/licenses/gpl-3.0.html -->
  <!-- GNU FDL: https://www.gnu.org/licenses/fdl-1.3.html -->
  <!-- Free Art License: https://artlibre.org/licence/lal/en/ -->
</body>
</html>
